/* ─── TOKENS ─────────────────────────────────────────────── */
:root {
  --bg: #0a0a0f; --surface: #111118; --surface2: #18181f;
  --border: #2a2a35; --accent: #c9a84c; --accent2: #e8c97a;
  --text: #e8e8f0; --muted: #6b6b80;
  --critical: #ff4455; --high: #ff7a3d; --medium: #f0c040; --low: #4ade80;
  --radius-sm: 6px; --radius: 10px; --radius-lg: 14px;
  --transition: 0.2s ease;
}

/* ─── RESET ──────────────────────────────────────────────── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;font-size:15px;line-height:1.6;min-height:100vh;display:flex;flex-direction:column;overflow-x:hidden}
main{flex:1}
a{color:inherit;text-decoration:none}
button{font-family:inherit;cursor:pointer}
textarea,input{font-family:inherit}
html, body {
  overflow-x: hidden;
  width: 100%;
}
*, *::before, *::after { box-sizing: border-box; }    
/* ─── NOISE ──────────────────────────────────────────────── */
.noise-overlay{position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");pointer-events:none;z-index:0;opacity:.4}

/* ─── HEADER ─────────────────────────────────────────────── */
.site-header {
  position: sticky; /* keeps it visible while scrolling */
  top: 0;
  z-index: 1000;

  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 1.1rem 2rem;
  border-bottom: 1px solid var(--border);
  background: rgba(10, 10, 15, 0.9);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* Logo */
.logo {
  display: flex;
  align-items: center;
  gap: 0.65rem;
  text-decoration: none;
  margin-right: auto;
  z-index: 1002;
}

.logo-icon {
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 17px;
  flex-shrink: 0;
}

.logo-text {
  font-family: "Playfair Display", serif;
  font-size: 1.3rem;
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--text);
}

.logo-text span {
  color: var(--accent);
}

/* ── MOBILE MENU BUTTON ────────────────────────────────────── */
.mobile-menu-btn {
  display: none; /* shown on mobile via media query */
  flex-direction: column;
  justify-content: space-between;

  width: 30px;
  height: 21px;

  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;

  z-index: 1003;
  margin-left: 1rem;
}

.mobile-menu-btn span {
  width: 100%;
  height: 3px;
  background: var(--text);
  border-radius: 3px;
  transition: transform 0.3s ease, opacity 0.3s ease, background 0.3s ease;
  display: block;
}

/* Hamburger -> X */
.mobile-menu-btn.open span:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
  background: var(--accent);
}
.mobile-menu-btn.open span:nth-child(2) {
  opacity: 0;
  transform: scale(0);
}
.mobile-menu-btn.open span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -7px);
  background: var(--accent);
}

/* ── DESKTOP NAV ───────────────────────────────────────────── */
.nav {
  display: flex;
  align-items: center;
  gap: 1.25rem;
}

.nav-link {
  font-size: 0.85rem;
  color: var(--muted);
  transition: color var(--transition), background var(--transition);
  text-decoration: none;
  font-weight: 500;
}

.nav-link:hover,
.nav-link.active {
  color: var(--text);
}

/* User section */
.nav-user {
  display: flex;
  align-items: center;
  gap: 1rem;
  border-left: 1px solid var(--border);
  padding-left: 1.25rem;
}

.nav-username {
  font-family: "DM Mono", monospace;
  font-size: 0.72rem;
  color: var(--accent);
}

/* Badge (if used) */
.badge {
  font-family: "DM Mono", monospace;
  font-size: 0.6rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--accent);
  border: 1px solid rgba(201, 168, 76, 0.4);
  padding: 0.25rem 0.75rem;
  border-radius: 2px;
}

/* Primary button styling */
.btn-primary.btn-sm,
.btn.btn-primary.btn-sm {
  background: var(--accent);
  color: #0a0a0f;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: var(--radius-sm);
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: opacity var(--transition);
  text-decoration: none;
  display: inline-block;
}

.btn-primary.btn-sm:hover,
.btn.btn-primary.btn-sm:hover {
  opacity: 0.9;
}

/* ── RESPONSIVE ────────────────────────────────────────────── */

/* Tablet */
@media (max-width: 1024px) {
  .site-header {
    padding: 1rem 1.5rem;
  }

  .nav {
    gap: 1rem;
  }

  .nav-link {
    font-size: 0.8rem;
  }
}

/* Mobile Drawer */
@media (max-width: 768px) {
  .site-header {
    padding: 0.8rem 1.25rem;
  }

  /* show menu button */
  .mobile-menu-btn {
    display: flex;
  }

  /* turn nav into drawer */
  .nav {
    position: fixed;
    top: 0;
    right: -100%;

    width: min(80%, 350px);
    height: 100vh;

    background: rgba(10, 10, 15, 0.98);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);

    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;

    padding: 5rem 2rem 2rem;
    gap: 0.5rem;

    transition: right 0.3s ease, opacity 0.2s ease;
    box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
    z-index: 1001;

    border-left: 1px solid var(--border);
    overflow-y: auto;

    /* prevents edge-case clicks when offscreen */
    pointer-events: none;
    opacity: 0;
  }

  .nav.open {
    right: 0;
    pointer-events: auto;
    opacity: 1;
  }

  /* mobile links */
  .nav-link {
    font-size: 1rem;
    padding: 1rem;
    text-align: center;
    border-radius: var(--radius-sm);
    width: 100%;
  }

  .nav-link:hover {
    background: rgba(201, 168, 76, 0.08);
  }

  .nav-link.active {
    background: rgba(201, 168, 76, 0.12);
    color: var(--accent);
  }

  /* user block stacked */
  .nav-user {
    flex-direction: column;
    width: 100%;
    padding-left: 0;
    border-left: none;

    border-top: 1px solid var(--border);
    padding-top: 1.5rem;
    margin-top: 1rem;
    gap: 1rem;
  }

  .nav-username {
    font-size: 0.85rem;
    text-align: center;
  }

  .nav-user .nav-link {
    width: auto;
    padding: 0.5rem 2rem;
    background: transparent;
  }

  .nav-user .nav-link:hover {
    background: rgba(201, 168, 76, 0.1);
  }

  /* full width button on mobile */
  .btn-primary.btn-sm,
  .btn.btn-primary.btn-sm {
    width: 100%;
    text-align: center;
    padding: 0.75rem;
    font-size: 1rem;
  }
}

/* Small phones */
@media (max-width: 480px) {
  .site-header {
    padding: 0.7rem 1rem;
  }

  .logo-text {
    font-size: 1.1rem;
  }

  .logo-icon {
    width: 32px;
    height: 32px;
    font-size: 15px;
  }

  .nav {
    width: 85%;
    padding: 4rem 1.5rem 1.5rem;
  }

  .nav-link {
    font-size: 0.95rem;
    padding: 0.875rem;
  }
} 
/* ─── FOOTER ─────────────────────────────────────────────── */
.site-footer{position:relative;z-index:1;border-top:1px solid var(--border);padding:1.5rem 2rem;text-align:center;font-family:'DM Mono',monospace;font-size:.65rem;letter-spacing:.06em;color:var(--muted)}

/* ─── FLASH ──────────────────────────────────────────────── */
.flash{padding:.875rem 1.5rem;font-size:.875rem;text-align:center;position:relative;z-index:10}
.flash-error{background:rgba(255,68,85,.1);border-bottom:1px solid rgba(255,68,85,.3);color:var(--critical)}
.flash-success{background:rgba(74,222,128,.1);border-bottom:1px solid rgba(74,222,128,.3);color:var(--low)}

/* ─── BUTTONS ────────────────────────────────────────────── */
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.7rem 1.5rem;border-radius:var(--radius-sm);font-size:.875rem;font-weight:600;border:none;transition:all var(--transition);letter-spacing:.01em}
.btn-primary{background:var(--accent);color:#0a0a0f}
.btn-primary:hover{background:var(--accent2);transform:translateY(-1px)}
.btn-sm{padding:.45rem 1rem;font-size:.8rem}
.btn-accent{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#0a0a0f;font-weight:700;letter-spacing:.04em;text-transform:uppercase;font-size:.8rem}
.btn-accent:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(201,168,76,.25)}
.btn-accent:disabled{opacity:.45;transform:none;pointer-events:none}
.btn-ghost{display:inline-flex;align-items:center;gap:.4rem;padding:.6rem 1.25rem;border-radius:var(--radius-sm);border:1px solid var(--border);color:var(--muted);font-size:.85rem;background:transparent;transition:all var(--transition)}
.btn-ghost:hover{border-color:var(--accent);color:var(--accent)}
.btn-full{width:100%;justify-content:center}

/* ─── ALERTS ─────────────────────────────────────────────── */
.alert{padding:1rem 1.25rem;border-radius:var(--radius);font-size:.875rem;margin-bottom:1rem}
.alert-error{background:rgba(255,68,85,.08);border:1px solid rgba(255,68,85,.3);color:var(--critical)}

/* ─── SEVERITY BADGES ────────────────────────────────────── */
.severity-badge{display:inline-block;font-family:'DM Mono',monospace;font-size:.6rem;font-weight:500;letter-spacing:.1em;text-transform:uppercase;padding:.3rem .65rem;border-radius:3px;flex-shrink:0}
.badge--sm{padding:.2rem .45rem;font-size:.55rem;margin-left:.5rem}
.sev-critical{background:rgba(255,68,85,.12);color:var(--critical);border:1px solid rgba(255,68,85,.3)}
.sev-high{background:rgba(255,122,61,.12);color:var(--high);border:1px solid rgba(255,122,61,.3)}
.sev-medium{background:rgba(240,192,64,.12);color:var(--medium);border:1px solid rgba(240,192,64,.3)}
.sev-low{background:rgba(74,222,128,.12);color:var(--low);border:1px solid rgba(74,222,128,.3)}
.text-critical{color:var(--critical)}.text-high{color:var(--high)}.text-medium{color:var(--medium)}.text-low{color:var(--low)}
.score-critical{color:var(--critical)}.score-high{color:var(--high)}.score-medium{color:var(--medium)}.score-low{color:var(--low)}

/* ─── HERO ───────────────────────────────────────────────── */
.hero{position:relative;z-index:1;text-align:center;padding:5rem 1.5rem 3.5rem}
.hero::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:600px;height:300px;background:radial-gradient(ellipse,rgba(201,168,76,.07) 0%,transparent 70%);pointer-events:none}
.hero-eyebrow{font-family:'DM Mono',monospace;font-size:.68rem;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);margin-bottom:1.25rem;opacity:.85}
.hero h1{font-family:'Playfair Display',serif;font-size:clamp(2.4rem,6vw,4.2rem);font-weight:900;line-height:1.08;letter-spacing:-.03em;margin-bottom:1.25rem}
.hero h1 em{font-style:italic;color:var(--accent)}
.hero p{color:var(--muted);font-size:1rem;max-width:480px;margin:0 auto;line-height:1.75}

/* ─── UPLOAD ─────────────────────────────────────────────── */
.upload-container{position:relative;z-index:2;max-width:660px;margin:0 auto;padding:0 1.5rem 3rem}
.upload-zone{border:2px dashed var(--border);border-radius:var(--radius-lg);background:var(--surface);transition:all .25s ease;position:relative;overflow:hidden;cursor:pointer}
.upload-zone::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 50% -20%,rgba(201,168,76,.06) 0%,transparent 65%);pointer-events:none}
.upload-zone:hover,.upload-zone.drag-over{border-color:var(--accent);background:var(--surface2)}
.upload-zone.drag-over{transform:scale(1.01)}
.upload-zone-inner{padding:3.5rem 2rem;text-align:center}
.upload-icon{font-size:2.75rem;display:block;margin-bottom:.75rem}
.upload-title{font-family:'Playfair Display',serif;font-size:1.2rem;font-weight:700;margin-bottom:.4rem}
.upload-sub{color:var(--muted);font-size:.82rem;margin-bottom:1.5rem}
.divider{display:flex;align-items:center;gap:1rem;margin:1.5rem 0;color:var(--muted);font-size:.78rem}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--border)}
.text-panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden}
.text-panel textarea{width:100%;background:transparent;border:none;outline:none;color:var(--text);font-family:'DM Mono',monospace;font-size:.78rem;line-height:1.65;padding:1.25rem;resize:vertical;min-height:150px}
.text-panel textarea::placeholder{color:var(--muted)}
.text-panel-footer{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-top:1px solid var(--border);background:var(--surface2)}
.char-count{font-family:'DM Mono',monospace;font-size:.68rem;color:var(--muted)}



/* ─── LOADING ────────────────────────────────────────────── */
.loading-overlay{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  width: 100%;
  height: 100%;
  overflow: hidden;              /* KEY: stop overlay overflow */
  overscroll-behavior: none;     /* stops “rubber band” scroll */

  background: rgba(10,10,15,.92);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  z-index: 999;
  display: flex;
  align-items: center;
  justify-content: center;

  padding: 1.25rem;              /* prevents edge clipping on small screens */
}

.loading-card{
  text-align: center;
  width: min(380px, 100%);        /* KEY: never exceed screen width */
  max-width: 380px;
  padding: 3rem 2rem;
}

.spinner{
  width: 48px;
  height: 48px;
  border: 3px solid var(--border);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin .75s linear infinite;
  margin: 0 auto 1.5rem;
  flex-shrink: 0;
}

@keyframes spin{to{transform:rotate(360deg)}}

.loading-title{
  font-family:'Playfair Display',serif;
  font-size:1.3rem;
  font-weight:700;
  margin-bottom:.4rem;
  color: var(--text);
}

.loading-sub{
  color:var(--muted);
  font-size:.85rem;
  margin-bottom:1.75rem;
}

.loading-steps{
  list-style:none;
  display:flex;
  flex-direction:column;
  gap:.5rem;
  text-align:left;

  padding: 0;                    /* remove default UL padding */
  margin: 0;                     /* remove default UL margin */
}

.loading-steps li{
  display:flex;
  align-items:center;
  gap:.75rem;
  font-family:'DM Mono',monospace;
  font-size:.72rem;
  color:var(--muted);
  opacity:0;
  transition:opacity .3s,color .3s;
}

.loading-steps li::before{
  content:'';
  width:6px;
  height:6px;
  border-radius:50%;
  background:currentColor;
  flex-shrink:0;
}

.loading-steps li.active{
  opacity:1;
  color:var(--accent);
}
/* ─── RECENT CONTRACTS ───────────────────────────────────── */
.recent-section{position:relative;z-index:1;max-width:660px;margin:0 auto;padding:0 1.5rem 4rem}
.view-all{font-size:.82rem;color:var(--accent)}
.recent-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem;margin-top:1rem}
.recent-card{display:block;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.1rem;transition:border-color var(--transition)}
.recent-card:hover{border-color:var(--accent)}
.recent-card-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}
.recent-score{font-family:'DM Mono',monospace;font-size:.7rem;color:var(--muted)}
.recent-filename{font-size:.85rem;font-weight:600;margin-bottom:.3rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.recent-date{font-family:'DM Mono',monospace;font-size:.65rem;color:var(--muted)}

/* ─── RESULTS ────────────────────────────────────────────── */
.results-wrapper{position:relative;z-index:1;max-width:1200px;margin:0 auto;padding:3rem 1.5rem 6rem}
.results-header{padding-bottom:2rem;border-bottom:1px solid var(--border);margin-bottom:1.5rem;animation:fadeUp .45s ease forwards}
.results-meta{font-family:'DM Mono',monospace;font-size:.68rem;letter-spacing:.12em;text-transform:uppercase;color:var(--accent);margin-bottom:.75rem}
.results-title{font-family:'Playfair Display',serif;font-size:2rem;font-weight:700;letter-spacing:-.02em;margin-bottom:.75rem}
.results-summary{color:var(--muted);max-width:700px;line-height:1.75;margin-bottom:1rem}
.party-tags{display:flex;flex-wrap:wrap;gap:.5rem}
.tag{font-family:'DM Mono',monospace;font-size:.68rem;background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:.3rem .75rem;color:var(--muted)}
.results-actions{display:flex;gap:.75rem;margin-bottom:2rem;animation:fadeUp .45s .05s ease both}

/* ─── SCORE GRID ─────────────────────────────────────────── */
.score-grid{display:grid;grid-template-columns:200px 1fr;gap:1.25rem;margin-bottom:2.5rem;animation:fadeUp .45s .1s ease both}
@media(max-width:640px){.score-grid{grid-template-columns:1fr}}
.score-card--main{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem 1.5rem;gap:.75rem;position:relative;overflow:hidden}
.score-card--main::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 50% 0%,rgba(201,168,76,.06) 0%,transparent 70%)}
.score-number{font-family:'Playfair Display',serif;font-size:4.5rem;font-weight:900;line-height:1}
.score-label{font-family:'DM Mono',monospace;font-size:.75rem;color:var(--muted)}
.score-sublabel{font-family:'DM Mono',monospace;font-size:.62rem;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}
.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem 1.5rem}
.stat-number{font-family:'Playfair Display',serif;font-size:2.25rem;font-weight:700;line-height:1;margin-bottom:.25rem}
.stat-label{font-family:'DM Mono',monospace;font-size:.62rem;letter-spacing:.1em;text-transform:uppercase;color:var(--muted)}

/* ─── TWO COL RESULTS + CHAT ─────────────────────────────── */
.results-chat-grid{display:grid;grid-template-columns:1fr 380px;gap:2rem;align-items:start}
@media(max-width:900px){.results-chat-grid{grid-template-columns:1fr}}
.results-col{}
.chat-col{position:sticky;top:1rem}

/* ─── RESULTS SECTIONS ───────────────────────────────────── */
.results-section{margin-bottom:2.5rem}
.section-header{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem}
.section-title{font-family:'Playfair Display',serif;font-size:1.2rem;font-weight:700}
.section-count{font-family:'DM Mono',monospace;font-size:.65rem;background:var(--surface2);border:1px solid var(--border);color:var(--muted);padding:.2rem .65rem;border-radius:20px}

/* ─── RISK CARD ──────────────────────────────────────────── */
.risk-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:.875rem;overflow:hidden;transition:border-color var(--transition)}
.risk-card:hover{border-color:rgba(201,168,76,.4)}
.risk-card-header{display:flex;align-items:flex-start;gap:1rem;padding:1.1rem 1.4rem;cursor:pointer;user-select:none}
.risk-card-info{flex:1}
.risk-card-title{font-weight:600;font-size:.92rem;margin-bottom:.2rem}
.risk-card-category{font-family:'DM Mono',monospace;font-size:.62rem;color:var(--muted);letter-spacing:.06em;text-transform:uppercase}
.risk-toggle{color:var(--muted);font-size:1.1rem;transition:transform .2s;flex-shrink:0;margin-top:2px}
.risk-card.open .risk-toggle{transform:rotate(180deg)}
.risk-card-body{display:none;padding:1.1rem 1.4rem 1.4rem;border-top:1px solid var(--border)}
.risk-card.open .risk-card-body{display:block}
.risk-clause{background:var(--surface2);border-left:3px solid var(--accent);padding:.875rem 1.1rem;border-radius:0 var(--radius-sm) var(--radius-sm) 0;font-family:'DM Mono',monospace;font-size:.76rem;line-height:1.65;color:var(--muted);font-style:italic;margin:0 0 1rem}
.risk-explanation{font-size:.9rem;line-height:1.7;margin-bottom:1rem;color:var(--text)}
.risk-rec{background:rgba(201,168,76,.05);border:1px solid rgba(201,168,76,.18);border-radius:var(--radius-sm);padding:.875rem 1rem;font-size:.875rem;line-height:1.65;margin-bottom:1rem}
.risk-rec strong{display:block;font-family:'DM Mono',monospace;font-size:.6rem;letter-spacing:.12em;text-transform:uppercase;color:var(--accent);margin-bottom:.35rem}

/* ─── STATUS PILL ────────────────────────────────────────── */
.status-pill{font-family:'DM Mono',monospace;font-size:.58rem;letter-spacing:.08em;text-transform:uppercase;padding:.2rem .55rem;border-radius:20px;border:1px solid var(--border);color:var(--muted);flex-shrink:0}
.status-reviewed{border-color:rgba(74,222,128,.4);color:var(--low)}
.status-accepted{border-color:rgba(96,165,250,.4);color:#60a5fa}
.status-disputed{border-color:rgba(255,68,85,.4);color:var(--critical)}

/* ─── RISK REVIEW ────────────────────────────────────────── */
.risk-review{background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:1rem;margin-top:.5rem}
.review-label{font-family:'DM Mono',monospace;font-size:.65rem;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);margin-bottom:.6rem}
.review-actions{display:flex;gap:.5rem;margin-bottom:.75rem;flex-wrap:wrap}
.review-btn{font-family:'DM Mono',monospace;font-size:.68rem;padding:.35rem .85rem;border-radius:4px;border:1px solid var(--border);background:transparent;color:var(--muted);transition:all var(--transition)}
.review-btn:hover{border-color:var(--accent);color:var(--accent)}
.review-btn.active{border-color:var(--accent);color:var(--accent);background:rgba(201,168,76,.08)}
.review-note{width:100%;background:transparent;border:1px solid var(--border);border-radius:4px;padding:.65rem;color:var(--text);font-family:'DM Mono',monospace;font-size:.75rem;resize:vertical;min-height:60px;outline:none}
.review-note:focus{border-color:var(--accent)}

/* ─── SIMPLE CARD ────────────────────────────────────────── */
.simple-card{display:flex;gap:1rem;align-items:flex-start;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.1rem 1.4rem;margin-bottom:.75rem;transition:border-color var(--transition)}
.simple-card:hover{border-color:rgba(201,168,76,.3)}
.simple-card-icon{font-size:1rem;flex-shrink:0;margin-top:2px}
.simple-card-title{font-weight:600;font-size:.9rem;margin-bottom:.3rem;display:flex;align-items:center;flex-wrap:wrap;gap:.25rem}
.simple-card-desc{color:var(--muted);font-size:.85rem;line-height:1.65}
.empty-state{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;color:var(--muted);font-size:.9rem;text-align:center}
.disclaimer{background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius);padding:1rem 1.25rem;font-size:.82rem;color:var(--muted);line-height:1.6;margin-top:1rem}

/* ─── CHAT ───────────────────────────────────────────────── */
.chat-panel {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 700px; /* Fixed height for consistency */
    max-height: 800px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.chat-header {
    padding: 1.25rem 1.5rem;
    border-bottom: 1px solid var(--border);
    background: var(--surface2);
    flex-shrink: 0;
}

.chat-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
    color: var(--text);
}

.chat-sub {
    font-size: 0.85rem;
    color: var(--muted);
    line-height: 1.4;
}

.chat-messages {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    flex: 1;
    overflow-y: auto;
    min-height: 300px;
    background: var(--surface);
}

.chat-messages::-webkit-scrollbar {
    width: 6px;
}

.chat-messages::-webkit-scrollbar-track {
    background: var(--surface2);
}

.chat-messages::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
    background: var(--muted);
}

.chat-bubble {
    max-width: 85%;
    padding: 0.875rem 1.25rem;
    border-radius: var(--radius);
    font-size: 0.9rem;
    line-height: 1.6;
    word-wrap: break-word;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.chat-bubble.user {
    background: linear-gradient(135deg, rgba(201, 168, 76, 0.15), rgba(232, 201, 122, 0.1));
    border: 1px solid rgba(201, 168, 76, 0.25);
    align-self: flex-end;
    color: var(--text);
    border-bottom-right-radius: 4px;
}

.chat-bubble.assistant {
    background: var(--surface2);
    border: 1px solid var(--border);
    align-self: flex-start;
    color: var(--text);
    border-bottom-left-radius: 4px;
}

.chat-bubble.typing {
    color: var(--muted);
    font-style: italic;
    background: var(--surface2);
    opacity: 0.8;
}

.chat-input-area {
    display: flex;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--border);
    background: var(--surface2);
    flex-shrink: 0;
}

.chat-input-area textarea {
    flex: 1;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 0.75rem 1rem;
    color: var(--text);
    font-size: 0.9rem;
    resize: none;
    outline: none;
    line-height: 1.5;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    min-height: 44px;
    max-height: 120px;
    font-family: inherit;
}

.chat-input-area textarea:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(201, 168, 76, 0.1);
}

.chat-input-area textarea::placeholder {
    color: var(--muted);
    opacity: 0.7;
}

.chat-input-area button {
    align-self: flex-end;
    padding: 0.75rem 1.5rem;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    font-weight: 500;
    font-size: 0.9rem;
    cursor: pointer;
    transition: background 0.2s ease;
    white-space: nowrap;
    height: fit-content;
}

.chat-input-area button:hover {
    background: var(--accent-hover, #b38f3f);
}

.chat-suggestions {
    padding: 0.75rem 1.5rem 1.25rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    border-top: 1px solid var(--border);
    background: var(--surface);
    flex-shrink: 0;
}

.suggestion {
    font-size: 0.8rem;
    padding: 0.4rem 1rem;
    border-radius: 30px;
    border: 1px solid var(--border);
    background: var(--surface2);
    color: var(--text);
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    font-weight: 400;
}

.suggestion:hover {
    border-color: var(--accent);
    background: var(--accent);
    color: white;
}

/* Welcome message styling */
.chat-bundle:first-child .chat-bubble.assistant {
    background: linear-gradient(135deg, var(--surface2), var(--surface));
    border-color: var(--accent);
    font-weight: 400;
}

/* Empty state */
.empty-chat {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--muted);
    font-size: 0.9rem;
    text-align: center;
    padding: 2rem;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
    .chat-panel {
        height: 600px;
    }
    
    .chat-messages {
        padding: 1.25rem;
    }
}

@media (max-width: 768px) {
    .chat-panel {
        height: 500px;
        margin-top: 1rem;
    }
    
    .chat-input-area {
        padding: 0.75rem 1rem;
    }
    
    .chat-suggestions {
        padding: 0.75rem 1rem 1rem;
    }
    
    .suggestion {
        font-size: 0.75rem;
        padding: 0.3rem 0.8rem;
    }
}

/* ─── HISTORY ────────────────────────────────────────────── */
.history-wrapper{position:relative;z-index:1;max-width:960px;margin:0 auto;padding:3rem 1.5rem 6rem}
.history-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem}
.history-table-wrap{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden}
.history-table{width:100%;border-collapse:collapse}
.history-table th{font-family:'DM Mono',monospace;font-size:.65rem;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);padding:.875rem 1.25rem;text-align:left;border-bottom:1px solid var(--border);background:var(--surface2)}
.history-table td{padding:.875rem 1.25rem;border-bottom:1px solid var(--border);font-size:.875rem}
.history-table tr:last-child td{border-bottom:none}
.history-table tr:hover td{background:var(--surface2)}
.contract-name a{color:var(--accent);font-weight:500}
.contract-name a:hover{text-decoration:underline}
.score-cell{font-family:'DM Mono',monospace;font-size:.8rem;font-weight:600}
.date-cell{font-family:'DM Mono',monospace;font-size:.72rem;color:var(--muted)}
.actions-cell{display:flex;gap:.5rem}
.action-btn{font-family:'DM Mono',monospace;font-size:.65rem;padding:.3rem .75rem;border-radius:4px;border:1px solid var(--border);background:transparent;color:var(--muted);transition:all var(--transition)}
.action-btn:hover{border-color:var(--accent);color:var(--accent)}
.action-btn--danger:hover{border-color:var(--critical);color:var(--critical)}
.empty-history{text-align:center;padding:5rem 2rem}
.empty-icon{font-size:3rem;margin-bottom:1rem}
.empty-title{font-family:'Playfair Display',serif;font-size:1.4rem;font-weight:700;margin-bottom:.5rem}
.empty-sub{color:var(--muted)}

/* ─── AUTH ───────────────────────────────────────────────── */
.auth-wrapper{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1.5rem}
.auth-logo{margin-bottom:2rem}
.auth-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:2.5rem;width:100%;max-width:420px}
.auth-title{font-family:'Playfair Display',serif;font-size:1.75rem;font-weight:700;margin-bottom:.4rem}
.auth-sub{color:var(--muted);margin-bottom:1.75rem;font-size:.9rem}
.auth-form{display:flex;flex-direction:column;gap:1.1rem;margin-bottom:1.5rem}
.form-group{display:flex;flex-direction:column;gap:.4rem}
.form-label{font-family:'DM Mono',monospace;font-size:.68rem;letter-spacing:.1em;text-transform:uppercase;color:var(--muted)}
.form-input{background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:.75rem 1rem;color:var(--text);font-size:.9rem;outline:none;transition:border-color var(--transition)}
.form-input:focus{border-color:var(--accent)}
.auth-divider{display:flex;align-items:center;gap:1rem;margin:1.25rem 0;color:var(--muted);font-size:.78rem}
.auth-divider::before,.auth-divider::after{content:'';flex:1;height:1px;background:var(--border)}
.btn-google{display:flex;align-items:center;justify-content:center;gap:.75rem;width:100%;padding:.85rem;border-radius:var(--radius-sm);border:1px solid var(--border);background:transparent;color:var(--text);font-size:.875rem;font-weight:500;transition:all var(--transition);cursor:pointer}
.btn-google:hover{border-color:rgba(255,255,255,.3);background:var(--surface2)}
.auth-footer{text-align:center;margin-top:1.5rem;font-size:.85rem;color:var(--muted)}
.auth-footer a{color:var(--accent)}

.success-icon {
  font-size: 4rem;
  text-align: center;
  margin: 2rem 0;
  color: #4CAF50;
}

.form-hint {
  display: block;
  font-size: 0.8rem;
  color: var(--text-secondary);
  margin-top: 0.3rem;
}

.alert-success {
  background-color: rgba(76, 175, 80, 0.1);
  border-color: #4CAF50;
  color: #4CAF50;
}

.forgot-password {
  text-align: right;
  margin-bottom: 1rem;
}

.forgot-link {
  color: var(--text-secondary);
  font-size: 0.85rem;
  font-family: 'DM Sans', sans-serif;
  text-decoration: none;
  transition: color 0.2s ease;
}

.forgot-link:hover {
  color: var(--accent);
  text-decoration: underline;
}
/* ─── ANIMATIONS ─────────────────────────────────────────── */
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
.results-header{animation:fadeUp .45s ease forwards}
.score-grid{animation:fadeUp .45s .1s ease both}
.results-section{animation:fadeUp .45s .2s ease both}
