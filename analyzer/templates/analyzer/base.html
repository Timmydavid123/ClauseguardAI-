{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}ClauseGuard{% endblock %}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="{% static 'analyzer/css/main.css' %}"/>
  {% block extra_css %}{% endblock %}
</head>
<body>

<div class="noise-overlay" aria-hidden="true"></div>

<header class="site-header">
  <a href="/" class="logo">
    <div class="logo-icon">⚖️</div>
    <div class="logo-text">Clause<span>Guard</span></div>
  </a>

  <button
    class="mobile-menu-btn"
    aria-label="Toggle menu"
    aria-expanded="false"
    aria-controls="site-nav"
    type="button"
  >
    <span></span>
    <span></span>
    <span></span>
  </button>

  <nav class="nav" id="site-nav">
    {% if user.is_authenticated %}
      <a href="/dashboard" class="nav-link {% if request.path == '/dashboard' %}active{% endif %}">Upload</a>
      <a href="/history/" class="nav-link {% if '/history' in request.path %}active{% endif %}">History</a>
      <div class="nav-user">
        <span class="nav-username">{{ user.username }}</span>
        <a href="/accounts/logout/" class="nav-link">Logout</a>
      </div>
    {% else %}
      <a href="/accounts/login/" class="nav-link">Login</a>
      <a href="/accounts/signup/" class="btn btn-primary btn-sm">Sign Up</a>
    {% endif %}
  </nav>
</header>

{% if messages %}
  {% for message in messages %}
  <div class="flash flash-{{ message.tags }}">{{ message }}</div>
  {% endfor %}
{% endif %}

<main>{% block content %}{% endblock %}</main>

<footer class="site-footer">
  ClauseGuard &nbsp;•&nbsp; AI Contract Risk Analysis &nbsp;•&nbsp; Not a substitute for legal advice
</footer>

<script src="{% static 'analyzer/js/main.js' %}"></script>
{% block extra_js %}{% endblock %}
</body>
</html>
